#N canvas 695 100 670 714 10;
#X declare -path ofelia/libs/of;
#X obj 28 80 loadbang;
#X text 25 23 Mouse horizontal location controls size of dots. Creates
a simple pointillist effect using circles colored according to pixels
in an image.;
#X text 333 620 This example was originally written in Processing.
https://processing.org/examples/pointillism.html;
#X obj 462 29 declare -path ofelia/libs/of;
#X obj 28 122 ofWindow;
#X obj 28 158 ofSetup;
#X obj 28 179 ofSetBackgroundColor 255;
#X obj 28 200 ofSetBackgroundAuto 0;
#X msg 28 221 load data/moonwalk.jpg;
#X obj 28 242 ofImage \$0-img;
#X obj 28 263 route load;
#X floatatom 28 284 5 0 0 0 - - -;
#X text 67 284 0: fail \, 1: success.;
#X obj 28 412 ofDraw;
#X text 176 221 Load an image from the path. (relative or absolute
path);
#X obj 28 433 ofGetImagePtr \$0-img;
#X text 116 308 Set small point size.;
#X obj 28 454 ofGetPtr \$0-vars;
#X msg 79 328 smallPoint \$1;
#X floatatom 79 308 5 0 0 0 - - -;
#X floatatom 259 308 5 0 0 0 - - -;
#X msg 259 328 largePoint \$1;
#X text 296 308 Set large point size.;
#X text 35 474 This outputs a list of the two pointers in order.;
#X msg 28 101 setPosition 30 100 \, setSize 640 360 \, create;
#X obj 28 354 ofelia f \$0-vars \; M.smallPoint = 2 \; M.largePoint
= 20 \;;
#X text 134 454 Get a pointer to the variable module.;
#X text 158 433 Get a pointer to the image.;
#X text 150 365 Variables used.;
#X text 150 379 "M" is an alias of the module table "ofelia".;
#X obj 28 495 ofelia f \; local img \, m = a[1] \, a[2] \; local pointillize
= ofMap(ofGetMouseX() \, 0 \, ofGetWidth() \, m.smallPoint \, m.largePoint)
\; pointillize = ofClamp(pointillize \, m.smallPoint \, m.largePoint)
\; local x \, y = ofRandom(img:getWidth()) \, ofRandom(img:getHeight())
\; local pix = img:getColor(x \, y) \; ofSetColor(pix \, 128) \; ofDrawCircle(x
\, y \, pointillize) \;;
#X f 87;
#X connect 0 0 24 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 25 0;
#X connect 13 0 15 0;
#X connect 15 0 17 0;
#X connect 17 0 30 0;
#X connect 18 0 25 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 21 0 25 0;
#X connect 24 0 4 0;
